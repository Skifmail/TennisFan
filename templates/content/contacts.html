{% extends 'base.html' %}
{% load static %}

{% block title %}Контакты{% endblock %}

{% block content %}
<div class="container contacts-page" style="padding-top: var(--spacing-2xl); max-width: 800px;">
    <h1 class="page-title" style="text-align: center; text-transform: uppercase; letter-spacing: 0.05em;">КОНТАКТЫ</h1>

    {% if contact_page.intro_text %}
    <div class="card mt-4">
        <div class="card-body legal-doc__body">
            {{ intro_html|safe }}
        </div>
    </div>
    {% endif %}

    {% if contact_items %}
    <div class="card mt-4">
        <div class="card-body">
            <ul class="contacts-list" style="list-style: none; padding: 0; margin: 0;">
                {% for item in contact_items %}
                <li class="contacts-item" style="display: flex; align-items: flex-start; gap: var(--spacing-md); padding: var(--spacing-lg) 0; border-bottom: 1px solid var(--color-border);">
                    <div class="contacts-item__icon" style="flex-shrink: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
                        {% if item.item_type == 'telegram' %}
                        <img src="{% static 'images/Telegram_logo.svg' %}" alt="Telegram" width="28" height="28" style="object-fit: contain;">
                        {% elif item.item_type == 'whatsapp' %}
                        <img src="{% static 'images/WhatsApp.svg' %}" alt="WhatsApp" width="28" height="28" style="object-fit: contain;">
                        {% elif item.item_type == 'max' %}
                        <img src="{% static 'images/Max_logo_2025.png' %}" alt="MAX" width="28" height="28" style="object-fit: contain;">
                        {% elif item.item_type == 'email' %}
                        <img src="{% static 'images/email.png' %}" alt="Email" width="28" height="28" style="object-fit: contain;">
                        {% elif item.item_type == 'phone' %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                        {% elif item.item_type == 'address' %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        {% elif item.item_type == 'vk' %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M15.684 0H8.316C1.592 0 0 1.592 0 8.316v7.368C0 22.408 1.592 24 8.316 24h7.368C22.408 24 24 22.408 24 15.684V8.316C24 1.592 22.408 0 15.684 0zm3.692 17.123h-1.744c-.66 0-.864-.525-2.05-1.727-1.033-1-1.49-1.135-1.744-1.135-.356 0-.458.102-.458.593v1.575c0 .424-.135.678-1.253.678-1.846 0-3.896-1.118-5.335-3.202C4.624 10.857 4 8.657 4 8.18c0-.254.102-.491.593-.491h1.744c.44 0 .61.203.78.678.847 2.49 2.27 4.674 2.863 4.674.22 0 .322-.102.322-.66V9.721c-.068-1.186-.695-1.287-.695-1.71 0-.203.17-.407.44-.407h2.744c.373 0 .508.203.508.644v3.473c0 .372.17.508.271.508.22 0 .407-.136.813-.542 1.254-1.406 2.151-3.574 2.151-3.574.119-.254.322-.491.763-.491h1.744c.525 0 .644.27.525.644-.22 1.017-2.354 4.031-2.354 4.031-.186.305-.254.44 0 .78.186.254.796.779 1.203 1.253.745.847 1.32 1.558 1.473 2.05.17.492-.085.745-.576.745z"/></svg>
                        {% elif item.item_type == 'website' %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                        {% elif item.item_type == 'work_hours' %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
                        {% else %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        {% endif %}
                    </div>
                    <div class="contacts-item__content" style="flex: 1; min-width: 0;">
                        <span class="contacts-item__label" style="display: block; font-weight: 600; margin-bottom: var(--spacing-xs); color: var(--color-text-secondary, #666); font-size: var(--font-size-sm);">{{ item.display_label }}</span>
                        {% if item.clickable_url %}
                        <a href="{{ item.clickable_url }}" target="_blank" rel="noopener noreferrer" class="contacts-item__link" style="color: var(--color-primary); text-decoration: none; font-weight: 500;">{{ item.value }}</a>
                        {% else %}
                        <span class="contacts-item__value" style="white-space: pre-wrap;">{{ item.value|linebreaksbr }}</span>
                        {% endif %}
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% else %}
    <p class="text-muted text-center mt-4">Контакты пока не добавлены. Добавьте их в админ-панели.</p>
    {% endif %}
</div>
{% endblock %}
