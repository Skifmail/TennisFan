<h2>Круговой турнир</h2>

<p>В круговом турнире каждый участник играет с каждым ровно один раз. Победитель определяется по количеству побед. Очки: 1 за победу, 0 за поражение.</p>

<hr>

<h3>1. Регистрация и формирование сетки</h3>

<h4>1.1. Регистрация</h4>
<p>Участники регистрируются на турнир до дедлайна регистрации. Организатор задаёт максимальное количество участников (обязательно для кругового формата).</p>

<h4>1.2. Когда формируется сетка</h4>
<p>Сетка формируется автоматически после истечения дедлайна регистрации (как и для FAN). При загрузке страницы турниров система проверяет: если дедлайн регистрации прошёл и сетка ещё не создана — создаёт её. Организатор может также сформировать сетку вручную в админ-панели (действие «Сформировать сетку (круговой)»). В момент формирования:</p>
<ul>
    <li>Список участников фиксируется.</li>
    <li>Регистрация закрывается.</li>
    <li>Система создаёт все матчи по турам (метод вращения).</li>
</ul>

<h4>1.3. Условия формирования</h4>
<ul>
    <li>Минимум 2 участника.</li>
    <li>Количество участников не должно превышать максимум турнира.</li>
    <li>При нечётном числе участников в системе должен быть служебный игрок «Свободный круг» (BYE).</li>
</ul>

<hr>

<h3>2. Структура турнира</h3>

<h4>2.1. Каждый с каждым</h4>
<p>При N участниках каждый играет ровно N−1 матч. Всего матчей в турнире: <strong>N × (N − 1) / 2</strong>.</p>
<ul>
    <li>4 игрока → 6 матчей, 3 тура</li>
    <li>6 игроков → 15 матчей, 5 туров</li>
    <li>8 игроков → 28 матчей, 7 туров</li>
    <li>10 игроков → 45 матчей, 9 туров</li>
</ul>

<h4>2.2. Нечётное число участников — BYE (Свободный круг)</h4>
<p>При нечётном N одному игроку в каждом туре не хватает пары. Добавляется виртуальный игрок «Свободный круг» (BYE). Тот, кто «играет» с BYE — <strong>отдыхает в этом туре</strong>. Матч с BYE не создаётся, игрок просто пропускает тур.</p>

<p><strong>Пример для 5 игроков (A, B, C, D, E):</strong></p>
<ul>
    <li>Тур 1: A–B, C–D, E отдыхает (E–BYE)</li>
    <li>Тур 2: A–C, B–E, D отдыхает</li>
    <li>Тур 3: A–D, C–E, B отдыхает</li>
    <li>Тур 4: A–E, B–D, C отдыхает</li>
    <li>Тур 5: B–C, D–E, A отдыхает</li>
</ul>
<p>В итоге: каждый сыграл со всеми четырьмя соперниками, у каждого по одному пропуску тура.</p>

<hr>

<h3>3. Дедлайны матчей</h3>
<p>Организатор задаёт «Дней на раунд» (по умолчанию 7). Для каждого тура устанавливается дедлайн: до этой даты матчи тура должны быть сыграны. При просрочке — см. раздел о технических победах.</p>

<hr>

<h3>4. Формат матча</h3>
<p>Организатор выбирает формат матча при создании турнира. Формат влияет на правила счёта и на подсчёт сетов/геймов в таблице.</p>

<ul>
    <li><strong>1 сет до 6 геймов</strong> — матч до 6 выигранных геймов. При счёте 6:6 игра идёт до 7.</li>
    <li><strong>1 сет с тай-брейком</strong> — до 6 геймов, при 6:6 — тай-брейк до 7 очков.</li>
    <li><strong>2 сета до победы</strong> — побеждает тот, кто выиграет 2 сета. При счёте 1:1 — третий сет (тай-брейк до 7 или 10).</li>
    <li><strong>2 коротких сета + супертай-брейк</strong> — сеты до 4 геймов, при 1:1 — супертай-брейк до 10 очков.</li>
</ul>

<hr>

<h3>5. Начисление очков</h3>
<ul>
    <li><strong>Победа:</strong> 1 очко</li>
    <li><strong>Поражение:</strong> 0 очков</li>
</ul>
<p>Победитель турнира — участник с наибольшим количеством побед (очков). Техническая победа (walkover) считается как обычная победа.</p>

<hr>

<h3>6. Таблица результатов</h3>
<p>Столбцы таблицы:</p>
<ul>
    <li><strong>Место</strong> — позиция в турнире. До сыгранных матчей отображается «—».</li>
    <li><strong>Игрок</strong> — участник турнира.</li>
    <li><strong>Игр</strong> — количество сыгранных матчей.</li>
    <li><strong>В</strong> — победы.</li>
    <li><strong>П</strong> — поражения.</li>
    <li><strong>Сеты</strong> — выигранные–проигранные сеты (например, 12–6). Сумма по всем матчам.</li>
    <li><strong>Геймы</strong> — выигранные–проигранные геймы (например, 88–66). Сумма геймов по всем сыгранным сетам во всех матчах. Гейм — единица счёта в сете (6:4 = 6 геймов у победителя, 4 у проигравшего).</li>
    <li><strong>Очки</strong> — количество побед (1 за победу, 0 за поражение).</li>
</ul>

<hr>

<h3>7. Определение места при равенстве очков (тай-брейк)</h3>
<p>Если у нескольких игроков одинаковое количество побед, места определяются по следующим критериям <strong>по порядку</strong>:</p>

<ol>
    <li><strong>Количество побед</strong> — выше тот, у кого больше побед. (При равенстве переходим к следующему.)</li>

    <li><strong>Личная встреча (head-to-head)</strong> — сумма результатов против всех соперников: +1 за победу, −1 за поражение. Для двух игроков с равными победами это эквивалентно результату их прямого матча: выигравший личную встречу занимает более высокое место. При трёх и более игроках с равными победами учитываются результаты всех матчей между собой.</li>

    <li><strong>Разница сетов</strong> — (выигранные − проигранные). Больше — выше место. Пример: 12–6 лучше, чем 12–8.</li>

    <li><strong>Разница геймов</strong> — (выигранные − проигранные). Больше — выше место. Пример: 88–66 (+22) лучше, чем 90–71 (+19).</li>

    <li><strong>Больше выигранных геймов</strong> — при равной разнице выше тот, кто выиграл больше геймов.</li>

    <li><strong>Жеребьёвка</strong> — при полном равенстве по всем критериям место определяется по ID игрока в системе (крайний случай).</li>
</ol>

<h4>7.1. Пример: два игрока с 6 победами</h4>
<p>А и В: оба 6 побед, 3 поражения, 12–6 по сетам.</p>
<ul>
    <li>Если А выиграл у В — А выше (личная встреча).</li>
    <li>Если они не играли или сыграли вничью (невозможно в теннисе) — смотрим разницу геймов: 88–66 (+22) лучше, чем 90–71 (+19), значит А выше.</li>
</ul>

<h4>7.2. Пример: три игрока с равными победами</h4>
<p>A, B, C — по 5 побед. A выиграл у B, B выиграл у C, C выиграл у A (круг).</p>
<ul>
    <li>Личная встреча: у каждого 1 победа и 1 поражение в этой тройке → сумма 0 у всех.</li>
    <li>Переходим к разнице сетов, затем геймов.</li>
</ul>

<hr>

<h3>8. Матрица результатов</h3>
<p>Матрица показывает результаты всех матчей в компактном виде:</p>
<ul>
    <li><strong>Строки и столбцы</strong> — участники (по фамилии и имени).</li>
    <li><strong>На пересечении</strong> — результат матча с точки зрения игрока в строке: 1 — победа, 0 — поражение, а также счёт по геймам (например, 6/4).</li>
    <li><strong>Диагональ</strong> (игрок против себя) — «—», матч не играется.</li>
    <li><strong>Очки</strong> — сумма побед (как в таблице).</li>
    <li><strong>Место</strong> — итоговая позиция (до сыгранных матчей — «—»).</li>
</ul>

<hr>

<h3>9. Подтверждение результатов матчей</h3>
<p>Результаты в таблицу и матрицу записываются после подтверждения соперником:</p>
<ol>
    <li><strong>Один из игроков</strong> вносит результат матча (счёт по сетам, победитель) и отправляет заявку.</li>
    <li><strong>Соперник</strong> получает уведомление и подтверждает или отклоняет заявку.</li>
    <li><strong>При подтверждении</strong> результат применяется к матчу, обновляются таблица и матрица, начисляются очки.</li>
    <li>При отклонении заявка удаляется; соперник может внести свой вариант результата.</li>
</ol>
<p>Организатор может также подтвердить результат вручную в админ-панели (заявки на результаты матчей).</p>

<hr>

<h3>10. Завершение турнира</h3>
<p>Турнир автоматически переходит в статус «Завершён», когда все матчи сыграны (включая технические победы). Очки за победу начисляются сразу после подтверждения результата каждого матча.</p>

<hr>

<h3>11. Техническая победа (walkover)</h3>
<p>Если матч не сыгран до дедлайна, организатор может присудить техническую победу. Техническая победа учитывается как обычная победа (1 очко) в таблице. Сеты и геймы при walkover не заполняются — в расчёт тай-брейка они не идут (0–0 по этому матчу).</p>

<hr>

<h3>12. Парные турниры (Круговой)</h3>

<p>Круговой формат поддерживает парные турниры — команды по 2 человека (2 на 2). Каждая команда играет с каждой, очки (1 за победу, 0 за поражение) начисляются обоим игрокам команды. Таблица и матрица отображают команды (два имени). Подробное описание — во вкладке <strong>«Парные турниры»</strong>.</p>
