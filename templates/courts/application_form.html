{% extends 'base.html' %}

{% block title %}Заявка на добавление корта{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Заявка на добавление корта</h1>
    <p class="page-subtitle">Заполните форму — после одобрения корт появится на сайте</p>
</div>

<div class="container" style="max-width: 640px;">
    <div class="card">
        <div class="card-body" style="padding: var(--spacing-2xl);">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {% if form.non_field_errors %}
                <div class="alert alert-error" style="margin-bottom: var(--spacing-lg);">
                    {% for err in form.non_field_errors %}{{ err }}{% endfor %}
                </div>
                {% endif %}

                <h3 class="section-title" style="margin-bottom: var(--spacing-md); font-size: var(--font-size-lg);">Контактное лицо</h3>
                <div class="form-group">
                    <label class="form-label" for="id_applicant_name">{{ form.applicant_name.label }} *</label>
                    {{ form.applicant_name }}
                    {% for err in form.applicant_name.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                </div>
                <div class="d-flex gap-2" style="flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1; min-width: 200px;">
                        <label class="form-label" for="id_applicant_email">{{ form.applicant_email.label }} *</label>
                        {{ form.applicant_email }}
                        {% for err in form.applicant_email.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 200px;">
                        <label class="form-label" for="id_applicant_phone">{{ form.applicant_phone.label }}</label>
                        {{ form.applicant_phone }}
                        {% for err in form.applicant_phone.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                </div>

                <hr style="margin: var(--spacing-xl) 0; border: none; border-top: 1px solid var(--color-border);">
                <h3 class="section-title" style="margin-bottom: var(--spacing-md); font-size: var(--font-size-lg);">О корте</h3>
                <div class="form-group">
                    <label class="form-label" for="id_name">{{ form.name.label }} *</label>
                    {{ form.name }}
                    {% for err in form.name.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                </div>
                <div class="d-flex gap-2" style="flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1; min-width: 180px;">
                        <label class="form-label" for="id_city">{{ form.city.label }} *</label>
                        {{ form.city }}
                        {% for err in form.city.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 200px;">
                        <label class="form-label" for="id_address">{{ form.address.label }} *</label>
                        {{ form.address }}
                        {% for err in form.address.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="id_description">{{ form.description.label }}</label>
                    {{ form.description }}
                    {% for err in form.description.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                </div>

                <hr style="margin: var(--spacing-xl) 0; border: none; border-top: 1px solid var(--color-border);">
                <h3 class="section-title" style="margin-bottom: var(--spacing-md); font-size: var(--font-size-lg);">Характеристики</h3>
                <div class="d-flex gap-2" style="flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1; min-width: 140px;">
                        <label class="form-label" for="id_surface">{{ form.surface.label }} *</label>
                        {{ form.surface }}
                        {% for err in form.surface.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 120px;">
                        <label class="form-label" for="id_courts_count">{{ form.courts_count.label }} *</label>
                        {{ form.courts_count }}
                        {% for err in form.courts_count.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                </div>
                <div class="d-flex gap-3" style="flex-wrap: wrap; margin-top: var(--spacing-md);">
                    <label class="consent-label" style="align-items: center;">
                        {{ form.has_lighting }}
                        <span class="consent-text">{{ form.has_lighting.label }}</span>
                    </label>
                    <label class="consent-label" style="align-items: center;">
                        {{ form.is_indoor }}
                        <span class="consent-text">{{ form.is_indoor.label }}</span>
                    </label>
                </div>
                {% for err in form.has_lighting.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                {% for err in form.is_indoor.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}

                <hr style="margin: var(--spacing-xl) 0; border: none; border-top: 1px solid var(--color-border);">
                <h3 class="section-title" style="margin-bottom: var(--spacing-md); font-size: var(--font-size-lg);">Контакты корта</h3>
                <div class="d-flex gap-2" style="flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1; min-width: 180px;">
                        <label class="form-label" for="id_phone">{{ form.phone.label }}</label>
                        {{ form.phone }}
                        {% for err in form.phone.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 180px;">
                        <label class="form-label" for="id_whatsapp">{{ form.whatsapp.label }}</label>
                        {{ form.whatsapp }}
                        {% for err in form.whatsapp.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="id_website">{{ form.website.label }}</label>
                    {{ form.website }}
                    {% for err in form.website.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                </div>

                <hr style="margin: var(--spacing-xl) 0; border: none; border-top: 1px solid var(--color-border);">
                <h3 class="section-title" style="margin-bottom: var(--spacing-md); font-size: var(--font-size-lg);">Карта, цена и фото</h3>
                <div class="d-flex gap-2" style="flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1; min-width: 140px;">
                        <label class="form-label" for="id_latitude">{{ form.latitude.label }}</label>
                        {{ form.latitude }}
                        {% for err in form.latitude.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 140px;">
                        <label class="form-label" for="id_longitude">{{ form.longitude.label }}</label>
                        {{ form.longitude }}
                        {% for err in form.longitude.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="id_price_per_hour">{{ form.price_per_hour.label }}</label>
                    {{ form.price_per_hour }}
                    {% for err in form.price_per_hour.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                </div>
                <div class="form-group">
                    <label class="form-label" for="id_image">{{ form.image.label }}</label>
                    {{ form.image }}
                    {% for err in form.image.errors %}<p class="text-error" style="margin-top: var(--spacing-xs); font-size: var(--font-size-sm);">{{ err }}</p>{% endfor %}
                </div>

                <hr style="margin: var(--spacing-xl) 0; border: none; border-top: 1px solid var(--color-border);">
                <div class="d-flex gap-2" style="flex-wrap: wrap;">
                    <button type="submit" class="btn btn-primary btn-lg">Отправить заявку</button>
                    <a href="{% url 'court_list' %}" class="btn btn-ghost btn-lg">Отмена</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
