{% extends 'base.html' %}

{% block title %}Турниры{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Турниры</h1>
    <p class="page-subtitle">Расписание теннисных турниров</p>
</div>

<div class="container">
    <!-- Filters -->
    <form method="get" class="filter-bar">
        <input name="city" class="form-control" placeholder="Любой город России" value="{{ current_city }}" onchange="this.form.submit()">
        <select name="category" class="form-control" onchange="this.form.submit()">
            <option value="">Все категории</option>
            {% for value, label in category_choices %}
            <option value="{{ value }}" {% if current_category == value %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
        <select name="status" class="form-control" onchange="this.form.submit()">
            <option value="">Все статусы</option>
            <option value="upcoming" {% if current_status == 'upcoming' %}selected{% endif %}>Предстоящие</option>
            <option value="active" {% if current_status == 'active' %}selected{% endif %}>Активные</option>
            <option value="completed" {% if current_status == 'completed' %}selected{% endif %}>Завершённые</option>
        </select>
    </form>

    <div style="display: flex; flex-direction: column; gap: var(--spacing-md);">
        {% for tournament in tournaments %}
            {% include 'includes/tournament_card.html' with tournament=tournament %}
        {% empty %}
        <p class="text-secondary">Турниры не найдены.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}